{"ast":null,"code":"import _objectSpread from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/html/ecommerce-shopping-cart/src/App.js\";\nimport React, { Component } from 'react';\nimport Products from './components/Products';\nimport Filter from './components/Filter';\nimport Basket from './components/Basket';\nimport { fetchProducts } from './actions/index';\nimport { connect } from \"react-redux\";\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this)); // this.state = { size: '', sort: '', cartItems: [], products: [], filteredProducts: [] };\n\n    _this.handleRemoveFromCart = function (e, product) {\n      console.log('Clicked here', product);\n\n      var cartItems = _this.state.cartItems.filter(function (a) {\n        return a.id !== product.id;\n      });\n\n      _this.setState({\n        cartItems: cartItems\n      });\n    };\n\n    _this.handleAddToCart = function (e, product) {\n      var cartValue = _this.state.cartItems;\n      var productAlreadyInCart = false;\n      cartValue.forEach(function (cp) {\n        if (cp.id === product.id) {\n          cp.count += 1;\n          productAlreadyInCart = true;\n        }\n      });\n\n      if (!productAlreadyInCart) {\n        cartValue.push(_objectSpread({}, product, {\n          count: 1\n        }));\n      }\n\n      _this.setState({\n        cartItems: cartValue\n      });\n\n      localStorage.setItem('cartItems', JSON.stringify(cartValue));\n      console.log('cart item', cartValue);\n    };\n\n    _this.listProducts = function () {\n      _this.setState(function (state) {\n        if (state.sort !== '') {\n          state.products.sort(function (a, b) {\n            return state.sort === 'lowestprice' ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1;\n          });\n        } else {\n          state.products.sort(function (a, b) {\n            return a.id > b.id ? 1 : -1;\n          });\n        }\n\n        if (state.size !== '') {\n          return {\n            filteredProducts: state.products.filter(function (a) {\n              return a.availableSizes.indexOf(state.size.toUpperCase()) >= 0;\n            })\n          };\n        }\n\n        return {\n          filteredProducts: state.products\n        };\n      });\n    };\n\n    _this.handleSortChange = function (e) {\n      _this.setState({\n        sort: e.target.value\n      });\n\n      _this.listProducts();\n    };\n\n    _this.handleSizeChange = function (e) {\n      _this.setState({\n        size: e.target.value\n      });\n\n      _this.listProducts();\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log('kaleshwar', this.props.fetchProducts());\n\n      if (localStorage.getItem('cartItems')) {\n        this.setState({\n          cartItems: JSON.parse(localStorage.getItem('cartItems'))\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"E-commerce Shopping Cart Application\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Filter, {\n        count: this.props.filteredProducts.length,\n        handleSortChange: this.handleSortChange,\n        handleSizeChange: this.handleSizeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(Products, {\n        products: this.props.filteredProducts,\n        handleAddToCart: this.handleAddToCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Basket, {\n        cartItems: this.props.cartItems,\n        handleRemoveFromCart: this.handleRemoveFromCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: state.productReducer.items,\n    filteredProducts: state.productReducer.filteredProducts,\n    isFreeShipping: state.productReducer.isFreeShipping\n  };\n}; // const mapDispachToProps = dispatch => {\n//   return {\n//     onAgeUp: () => dispatch({ type: \"AGE_UP\", value: 1 }),\n//     onAgeDown: () => dispatch({ type: \"AGE_DOWN\", value: 1 }),\n//   };\n// };\n\n\nexport default connect(mapStateToProps, {\n  fetchProducts: fetchProducts\n})(App);","map":{"version":3,"sources":["/var/www/html/ecommerce-shopping-cart/src/App.js"],"names":["React","Component","Products","Filter","Basket","fetchProducts","connect","App","handleRemoveFromCart","e","product","console","log","cartItems","state","filter","a","id","setState","handleAddToCart","cartValue","productAlreadyInCart","forEach","cp","count","push","localStorage","setItem","JSON","stringify","listProducts","sort","products","b","price","size","filteredProducts","availableSizes","indexOf","toUpperCase","handleSortChange","target","value","handleSizeChange","props","getItem","parse","length","mapStateToProps","productReducer","items","isFreeShipping"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Products from './components/Products';\nimport Filter from './components/Filter';\nimport Basket from './components/Basket';\nimport {fetchProducts} from './actions/index';\nimport { connect } from \"react-redux\";\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n   // this.state = { size: '', sort: '', cartItems: [], products: [], filteredProducts: [] };\n  }\n  componentWillMount() {\n\n    console.log('kaleshwar',this.props.fetchProducts());\n      if (localStorage.getItem('cartItems')) {\n      this.setState({ cartItems: JSON.parse(localStorage.getItem('cartItems')) });\n    }\n\n      \n  }\n\n  handleRemoveFromCart = (e, product) => {\n    console.log('Clicked here',product);\n    const cartItems = this.state.cartItems.filter(a =>a.id!==product.id);\n    this.setState({cartItems:cartItems});\n    \n  }\n\n  handleAddToCart = (e, product) => {\n    const cartValue = this.state.cartItems;\n    let productAlreadyInCart = false;\n    cartValue.forEach(cp => {\n        if (cp.id === product.id) {\n          cp.count += 1;\n          productAlreadyInCart = true;\n        }\n      });\n      if (!productAlreadyInCart) {\n        cartValue.push({ ...product, count: 1 });\n        }\n      this.setState({cartItems:cartValue});\n      localStorage.setItem('cartItems', JSON.stringify(cartValue));\n\n    console.log('cart item',cartValue);\n  \n  }\n\n  listProducts = () => {\n    this.setState(state => {\n      if (state.sort !== '') {\n        state.products.sort((a, b) =>\n          (state.sort === 'lowestprice'\n            ? ((a.price > b.price) ? 1 : -1)\n            : ((a.price < b.price) ? 1 : -1)));\n      } else {\n        state.products.sort((a, b) => (a.id > b.id) ? 1 : -1);\n      }\n      if (state.size !== '') {\n        return { filteredProducts: state.products.filter(a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0) };\n      }\n      return { filteredProducts: state.products };\n    })\n  }\n  handleSortChange = (e) => {\n    this.setState({ sort: e.target.value });\n    this.listProducts();\n  }\n  handleSizeChange = (e) => {\n    this.setState({ size: e.target.value });\n    this.listProducts();\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>E-commerce Shopping Cart Application</h1>\n        <hr />\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <Filter count={this.props.filteredProducts.length} handleSortChange={this.handleSortChange}\n              handleSizeChange={this.handleSizeChange} />\n            <hr />\n            <Products products={this.props.filteredProducts} handleAddToCart={this.handleAddToCart} />\n          </div>\n          <div className=\"col-md-3\">\n            <Basket cartItems={this.props.cartItems} handleRemoveFromCart={this.handleRemoveFromCart} />\n          </div>\n\n        </div>\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    products:state.productReducer.items,\n    filteredProducts:state.productReducer.filteredProducts,\n    isFreeShipping:state.productReducer.isFreeShipping\n  };\n};\n\n\n\n// const mapDispachToProps = dispatch => {\n//   return {\n//     onAgeUp: () => dispatch({ type: \"AGE_UP\", value: 1 }),\n//     onAgeDown: () => dispatch({ type: \"AGE_DOWN\", value: 1 }),\n    \n//   };\n// };\nexport default connect(mapStateToProps,{fetchProducts})(App);\n"]},"metadata":{},"sourceType":"module"}