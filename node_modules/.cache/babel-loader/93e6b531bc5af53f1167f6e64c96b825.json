{"ast":null,"code":"//calls the login API\nexport function fetchProducts() {\n  return function (dispatch) {\n    fetch('http://localhost:8000/products').then(function (res) {\n      return res.json();\n    }).catch(function (err) {\n      return fetch('db.json').then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        return data.products;\n      });\n    }).then(function (data) {\n      dispatch({\n        type: \"FETCH_PRODUCT\",\n        data: data\n      });\n    });\n  };\n}\nexport function filterProducts(products, size) {\n  console.log('size', size.toUpperCase());\n  console.log(products.filter(function (a) {\n    return a.availableSizes.indexOf(size.toUpperCase);\n  }));\n  console.log('its product here', products);\n  console.log('size filter data', size === '' ? products : products.filter(function (a) {\n    return a.availableSizes.indexOf(size.toUpperCase);\n  }));\n  return function (dispatch) {\n    dispatch({\n      type: 'FILTER_PRODUCTS_BY_SIZE',\n      payload: {\n        size: size,\n        items: size === '' ? products : products.filter(function (a) {\n          return a.availableSizes.indexOf(size.toUpperCase);\n        })\n      }\n    });\n  };\n}\nexport function addToCart(product) {\n  return function (dispatch) {\n    dispatch({\n      type: 'ADD_TO_CART',\n      product: product\n    });\n  };\n}\nexport function deleteProduct(product) {\n  return function (dispatch) {\n    dispatch({\n      type: \"DELETE_ITEM\",\n      product: product\n    });\n  };\n}","map":{"version":3,"sources":["/var/www/html/ecommerce-shopping-cart/src/actions/productAction.js"],"names":["fetchProducts","dispatch","fetch","then","res","json","catch","err","data","products","type","filterProducts","size","console","log","toUpperCase","filter","a","availableSizes","indexOf","payload","items","addToCart","product","deleteProduct"],"mappings":"AAAA;AACA,OAAO,SAASA,aAAT,GAAyB;AAC5B,SAAO,UAAAC,QAAQ,EAAI;AACnBC,IAAAA,KAAK,CAAC,gCAAD,CAAL,CAAwCC,IAAxC,CAA6C,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAAhD,EACCC,KADD,CACO,UAAAC,GAAG;AAAA,aAAIL,KAAK,CAAC,SAAD,CAAL,CAAiBC,IAAjB,CAAsB,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAAzB,EAAyCF,IAAzC,CAA8C,UAAAK,IAAI;AAAA,eAAIA,IAAI,CAACC,QAAT;AAAA,OAAlD,CAAJ;AAAA,KADV,EAECN,IAFD,CAEM,UAAAK,IAAI,EAAI;AACbP,MAAAA,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAC,eAAN;AAAsBF,QAAAA,IAAI,EAAJA;AAAtB,OAAD,CAAR;AACA,KAJD;AAKC,GAND;AAOH;AAED,OAAO,SAASG,cAAT,CAAwBF,QAAxB,EAAiCG,IAAjC,EAAsC;AACzCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBF,IAAI,CAACG,WAAL,EAAnB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACO,MAAT,CAAgB,UAAAC,CAAC;AAAA,WAAGA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBP,IAAI,CAACG,WAA9B,CAAH;AAAA,GAAjB,CAAZ;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BL,QAA/B;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,IAAI,KAAK,EAAT,GAAcH,QAAd,GAAuBA,QAAQ,CAACO,MAAT,CAAgB,UAAAC,CAAC;AAAA,WAAGA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBP,IAAI,CAACG,WAA9B,CAAH;AAAA,GAAjB,CAAvD;AACA,SAAO,UAACd,QAAD,EAAa;AAChBA,IAAAA,QAAQ,CAAC;AAACS,MAAAA,IAAI,EAAC,yBAAN;AAAiCU,MAAAA,OAAO,EAAC;AACjDR,QAAAA,IAAI,EAACA,IAD4C;AAEjDS,QAAAA,KAAK,EAACT,IAAI,KAAK,EAAT,GAAcH,QAAd,GAAuBA,QAAQ,CAACO,MAAT,CAAgB,UAAAC,CAAC;AAAA,iBAAGA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBP,IAAI,CAACG,WAA9B,CAAH;AAAA,SAAjB;AAFoB;AAAzC,KAAD,CAAR;AAMN,GAPE;AAQH;AAGD,OAAO,SAASO,SAAT,CAAmBC,OAAnB,EAA4B;AAC/B,SAAO,UAACtB,QAAD,EAAc;AACjBA,IAAAA,QAAQ,CAAC;AAACS,MAAAA,IAAI,EAAC,aAAN;AAAoBa,MAAAA,OAAO,EAAPA;AAApB,KAAD,CAAR;AACH,GAFD;AAIH;AAED,OAAO,SAASC,aAAT,CAAuBD,OAAvB,EAA+B;AACjC,SAAO,UAACtB,QAAD,EAAc;AAClBA,IAAAA,QAAQ,CAAC;AAACS,MAAAA,IAAI,EAAC,aAAN;AAAoBa,MAAAA,OAAO,EAAPA;AAApB,KAAD,CAAR;AACF,GAFD;AAGJ","sourcesContent":["//calls the login API\r\nexport function fetchProducts() {\r\n    return dispatch => {\r\n    fetch('http://localhost:8000/products').then(res => res.json())\r\n    .catch(err => fetch('db.json').then(res => res.json()).then(data => data.products))\r\n    .then(data => {\r\n     dispatch({type:\"FETCH_PRODUCT\",data});\r\n    })\r\n    }\r\n}\r\n\r\nexport function filterProducts(products,size){\r\n    console.log('size',size.toUpperCase());\r\n    console.log(products.filter(a =>a.availableSizes.indexOf(size.toUpperCase)));\r\n    console.log('its product here',products);\r\n    console.log('size filter data', size === '' ? products:products.filter(a =>a.availableSizes.indexOf(size.toUpperCase)));\r\n    return (dispatch) =>{\r\n        dispatch({type:'FILTER_PRODUCTS_BY_SIZE', payload:{\r\n         size:size,\r\n         items:size === '' ? products:products.filter(a =>a.availableSizes.indexOf(size.toUpperCase)) \r\n\r\n        }\r\n    });\r\n }\r\n}\r\n\r\n\r\nexport function addToCart(product) {\r\n    return (dispatch) => {\r\n        dispatch({type:'ADD_TO_CART',product});\r\n    }\r\n\r\n}\r\n\r\nexport function deleteProduct(product){\r\n     return (dispatch) => {\r\n        dispatch({type:\"DELETE_ITEM\",product})\r\n     }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}