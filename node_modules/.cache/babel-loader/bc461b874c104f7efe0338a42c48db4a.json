{"ast":null,"code":"import _classCallCheck from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/ecommerce-shopping-cart/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/html/ecommerce-shopping-cart/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Products from './components/Products';\nimport Filter from './components/Filter';\nimport Basket from './components/Basket';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.listProducts = function () {\n      console.log(_this.state);\n\n      _this.setState(function (state) {\n        if (state.sort !== '') {\n          state.products.sort(function (a, b) {\n            return state.sort === 'lowestprice' ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1;\n          });\n        } else {\n          state.products.sort(function (a, b) {\n            return a.id > b.id ? 1 : -1;\n          });\n        }\n\n        if (state.size !== '') {\n          return {\n            filterProducts: state.products.filter(function (a) {\n              return a.availableSizes.indexOf(state.size.toUpperCase()) >= 0;\n            })\n          };\n        }\n\n        return {\n          filterProducts: state.products\n        };\n      });\n    };\n\n    _this.handleSortChange = function (e) {\n      console.log('handleSortChange');\n\n      _this.setState({\n        sort: e.target.value\n      });\n\n      _this.listProducts();\n    };\n\n    _this.handleSizeChange = function (e) {\n      console.log('handleSizeChange');\n      console.log(e.target.value);\n\n      _this.setState({\n        size: e.target.value\n      });\n\n      _this.listProducts();\n    };\n\n    _this.state = {\n      products: [],\n      filterProducts: [],\n      cartItems: [],\n      size: '',\n      sort: ''\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:8000/products').then(function (res) {\n        return res.json();\n      }).catch(function (err) {\n        return fetch('db.json').then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          return data.products;\n        });\n      }).then(function (data) {\n        console.log('its data here', data);\n\n        _this2.setState({\n          filterProducts: data,\n          products: data\n        });\n\n        console.log('Here will list data', _this2.state.filterProducts);\n      });\n    }\n  }, {\n    key: \"handleAddToCart\",\n    value: function handleAddToCart(e, product) {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"E-Commerce Shopping cart application\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Filter, {\n        size: this.state.size,\n        sort: this.state.sort,\n        handleSortChange: this.handleSortChange,\n        handleSizeChange: this.handleSizeChange,\n        count: this.state.filterProducts.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Products, {\n        products: this.state.filterProducts,\n        handleAddToCart: this.handleAddToCart,\n        usename: \"kaleshwar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Basket, {\n        cartItems: this.state.cartItems,\n        handleRemoveFromCart: this.handleRemoveFromCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/var/www/html/ecommerce-shopping-cart/src/App.js"],"names":["React","Component","axios","Products","Filter","Basket","App","props","listProducts","console","log","state","setState","sort","products","a","b","price","id","size","filterProducts","filter","availableSizes","indexOf","toUpperCase","handleSortChange","e","target","value","handleSizeChange","cartItems","fetch","then","res","json","catch","err","data","product","length","handleAddToCart","handleRemoveFromCart"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Products from './components/Products';\nimport Filter from './components/Filter';\nimport Basket from './components/Basket'\nimport './App.css';\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products:[],\n      filterProducts:[],\n      cartItems:[],\n      size:'',\n      sort:''\n    }\n  }\n  componentWillMount() {\n  \n\n    fetch('http://localhost:8000/products').then(res => res.json())\n      .catch(err => fetch('db.json').then(res => res.json()).then(data => data.products))\n      .then(data => {\n        console.log('its data here',data);\n        this.setState({filterProducts:data,\n          products:data\n        });\n         console.log('Here will list data',this.state.filterProducts);\n        });\n  }\n \n  handleAddToCart(e,product){\n    \n  }\n\n  listProducts = () => {\n   console.log(this.state);\n    this.setState(state => {\n      if (state.sort !== '') {\n        state.products.sort((a, b) =>\n          (state.sort === 'lowestprice'\n            ? ((a.price > b.price) ? 1 : -1)\n            : ((a.price < b.price) ? 1 : -1)));\n      } else {\n        state.products.sort((a, b) => (a.id > b.id) ? 1 : -1);\n      }\n      if (state.size !== '') {\n        return { filterProducts: state.products.filter(a => a.availableSizes.indexOf(state.size.toUpperCase()) >= 0) };\n      }\n      return { filterProducts: state.products };\n    })\n  }\n  handleSortChange = (e) => {\n    console.log('handleSortChange');\n    this.setState({ sort: e.target.value });\n    this.listProducts();\n  }\n  handleSizeChange = (e) => {\n    console.log('handleSizeChange');\n    console.log(e.target.value);\n    this.setState({ size: e.target.value });\n    this.listProducts();\n  }\n\n  render() {\n    return (\n      <div className=\"container text-center\">\n        <h1>E-Commerce Shopping cart application</h1>\n        <hr />\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <Filter size={this.state.size} sort={this.state.sort}  handleSortChange={this.handleSortChange}\n              handleSizeChange={this.handleSizeChange} count={this.state.filterProducts.length} />\n            <hr />\n            <Products products={this.state.filterProducts} handleAddToCart={this.handleAddToCart} usename=\"kaleshwar\" />\n          </div>\n          <div className=\"col-md-4\">\n            <Basket cartItems={this.state.cartItems} handleRemoveFromCart={this.handleRemoveFromCart} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}